// Generated by CoffeeScript 2.5.1
(function() {
  'use strict';
  var backupEmailInput, backupPhoneInput, cvInput, expired, firstNameInput, iosRadio, lastNameInput, phoneInput, requiredInputs, submitButton, validate;

  firstNameInput = document.querySelector('#first-name');

  lastNameInput = document.querySelector('#last-name');

  backupEmailInput = document.querySelector('#backup-email');

  phoneInput = document.querySelector('#phone');

  backupPhoneInput = document.querySelector('#backup-phone');

  cvInput = document.querySelector('#cv');

  iosRadio = document.querySelector('#team-i');

  submitButton = document.querySelector('#submit');

  expired = false;

  requiredInputs = [firstNameInput, lastNameInput, backupEmailInput, phoneInput];

  iosRadio.addEventListener('click', function(e) {
    if (!confirm('You will need to have your own macOS device for iOS development. Do you wish to continue?')) {
      return e.preventDefault();
    }
  });

  setInterval(function() {
    if (!expired && !document.cookie.match('SID')) {
      expired = true;
      submitButton.disabled = true;
      submitButton.title = 'Your link has expired';
      return alert('Unfortunately, your link has expired. To submit the application, please return to the home page and get a new link. You may leave this page open.');
    } else if (expired && document.cookie.match('SID')) {
      expired = false;
      submitButton.disabled = false;
      return submitButton.title = 'Send!';
    }
  }, 1000);

  validate = function() {
    var i, input, len;
    submitButton.disabled = false;
    for (i = 0, len = requiredInputs.length; i < len; i++) {
      input = requiredInputs[i];
      if (!input.value) {
        input.classList.add('status-bad');
        submitButton.disabled = true;
      } else {
        input.classList.remove('status-bad');
      }
    }
    if (!backupEmailInput.value.match(/\w+@\w+\.[a-z]{2,}/)) {
      backupEmailInput.classList.add('status-bad');
      submitButton.disabled = true;
    } else {
      backupEmailInput.classList.remove('status-bad');
    }
    if (!phoneInput.value.match(/^(0|\+\d{1,3})\d{8,11}$/)) {
      phoneInput.classList.add('status-bad');
      submitButton.disabled = true;
    } else {
      phoneInput.classList.remove('status-bad');
    }
    if (!backupPhoneInput.value.match(/^(|((0|\+\d{1,3})\d{8,11}))$/)) {
      backupPhoneInput.classList.add('status-bad');
      return submitButton.disabled = true;
    } else {
      return backupPhoneInput.classList.remove('status-bad');
    }
  };

  addEventListener('load', validate);

  addEventListener('input', validate);

}).call(this);

//# sourceMappingURL=join.js.map
