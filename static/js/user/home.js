// Generated by CoffeeScript 2.5.1
(function() {
  'use strict';
  var applicationPeriodEnd, contentContainer, logo, remove, splashText, submitButton, textLeft, textRight, usernameInput, validate, welcomeContainer;

  logo = document.querySelector('#logo');

  textLeft = document.querySelector('#text-left');

  textRight = document.querySelector('#text-right');

  splashText = document.querySelector('#splash-text');

  welcomeContainer = document.querySelector('#welcome-container');

  contentContainer = document.querySelector('#content-container');

  usernameInput = document.querySelector('#username');

  submitButton = document.querySelector('#submit');

  applicationPeriodEnd = 1702450000000;

  remove = function(element) {
    return element.parentNode.removeChild(element);
  };

  validate = function() {
    submitButton.disabled = false;
    if (!usernameInput.value.match(/^[\w\.]+$/)) {
      usernameInput.classList.add('status-bad');
      return submitButton.disabled = true;
    } else {
      return usernameInput.classList.remove('status-bad');
    }
  };

  addEventListener('load', function() {
    [logo, textLeft, textRight].forEach(function(e) {
      return e.classList.remove('inactive');
    });
    validate();
    if (Date.now() > applicationPeriodEnd) {
      contentContainer.classList.add('hidden');
      document.querySelector('#welcome-container h1').innerText = 'Application period is over';
      document.querySelector('#welcome-container h2').innerText = 'Unfortunately, application period is over. Thank you for your interest in Mine Eclipse!';
      remove(document.querySelector('#welcome-container a'));
    } else {
      setInterval(function() {
        var days, hours, minutes, seconds, timeLeft;
        timeLeft = applicationPeriodEnd - Date.now();
        seconds = (Math.floor(timeLeft / 1000)) % 60;
        minutes = (Math.floor(Math.floor(timeLeft / 1000) / 60)) % 60;
        hours = (Math.floor(Math.floor(Math.floor(timeLeft / 1000) / 60) / 60)) % 24;
        days = Math.floor(Math.floor(Math.floor(Math.floor(timeLeft / 1000) / 60) / 60) / 24);
        return splashText.innerHTML = `Application period ends in ${days} days, ${hours} hours, ${minutes} minutes and ${seconds} seconds`;
      }, 1000);
    }
    return setTimeout(function() {
      return welcomeContainer.classList.remove('inactive');
    }, 1600);
  });

  usernameInput.addEventListener('input', validate);

}).call(this);

//# sourceMappingURL=home.js.map
